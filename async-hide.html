<!DOCTYPE html>
<html>
    <head>
        <title>Async Hide Demo</title>

        <style>
            .async-hide { opacity: 0 !important; }
            .async-trans { transition: opacity .5s; }
        </style>

        <script>
            ( function() {
                var doc = document;
                var docElem = doc.documentElement;
                var timeout, timeoutTime = 3000, interval, ended = false;
                var dataLayer = ( window.dataLayer = window.dataLayer || [] );

                var end = function() {
                    if ( ended ) return;

                    ended = true;
                    clearTimeout( timeout );
                    clearInterval( interval );

                    docElem.className += ' async-trans';
                    setTimeout( function() {
                        docElem.className = docElem.className.replace( /\basync-hide\b/g, '' );
                    }, 0 );
                };
                dl.hide = { start: Date.now(), timeout: timeoutTime, end: end, 'GTM-XXXXXX': true };

                docElem.className += ' async-hide';
                interval      = setInterval( function() {
                    var cb = doc.querySelector( '.a8c-cookie-banner' );
                    if( cb && cb.style.display !== 'none' ) end();
                }, 100 );
                timeout       = setTimeout( end, timeoutTime );
            } )();
        </script>

    </head>

    <body style="background:#234598; padding:5rem;">
        <div style="background:#fff; border:2px solid #000; border-radius:5px; padding:5rem; max-width:1400px; margin:0 auto; text-align:center;">
            <div>
                <img src="https://cdn.svgporn.com/logos/github-icon.svg" />
                <img src="https://cdn.svgporn.com/logos/git-icon.svg" />
            </div>
            <img src="https://cdn.svgporn.com/logos/github.svg" />
        </div>
    </body>
</html>
