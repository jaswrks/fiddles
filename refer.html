<!DOCTYPE html>
<html>
  <head>
    <title>referrals.min.js | Refer Platform</title>
  </head>
  <body>
    <div>referrals.min.js | Refer Platform</div>

    <hr />

    <pre id="event">... referral_tracked event not fired yet</pre>
    <pre id="response"></pre>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        jQuery( document ).ready( function( $ ) {
            var $document = $( document ),
                $body = $( 'body' );
                $event = $( '#event' ),
                $response = $( '#response' );

            $document.on( 'referral_tracked', function( event, response ) {
                console.log( 'referral_tracked', response );
                $event.text( 'referral_tracked' );
                $response.text( JSON.stringify( response, null, 2 ) );
            } );
            $document.on( 'referral_tracked_error', function( event, response ) {
                console.error( 'referral_tracked_error', response );
                $event.text( 'referral_tracked_error' );
                $response.text( JSON.stringify( response, null, 2 ) );
            } );

            $body.append( '<scr' + 'ipt data-vendor="137763" src="https://refer.wordpress.com/wp-content/themes/refer-wordpress/assets/js/referrals.min.js?v=' + Date.now() + '"></scr' + 'ipt>' );
        } );
    </script>
  </body>
</html>
